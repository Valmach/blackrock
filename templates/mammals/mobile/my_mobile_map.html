{% extends "portal/mobile/mobile_page.html" %}

{% block header_navigation %}<a href="/portal/mobile/info/" rel="external" data-icon="info">Info</a>{% endblock %}

{% block content %}
    <div data-role="page" data-theme="b" class="page-map" style="width:100%; height:100%;">
        <div data-role="header"><h1>Map Page</h1></div>
        <div data-role="content" style="width:100%; height:100%; padding:0;"> 
            <div id="map_canvas" style="width:100%; height:100%;"></div>
        </div>
    </div>

    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    
    <script type="text/javascript">
        // When map page opens get location and display map
        $('.page-map').live("pagecreate", function() {
            initialize();
            /**
            if(navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position){
                    initialize(position.coords.latitude,position.coords.longitude);
                });
            }
            **/
        });
        
        function initialize() {
            var latlng =  new google.maps.LatLng(41.397459,-74.021848);
            var myOptions = {
                zoom: 12,
                center: latlng,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("map_canvas"),myOptions);
        }
    </script>
{% endblock %}