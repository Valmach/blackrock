{% extends "mammals/base_mammals.html" %}
{% load smartif %}

{% block js %}
	{{ block.super }}
{% endblock %}

{% block css %}
    <style type='text/css'>
      @import "/mammals/media/css/style.css";
      @import "/site_media/js/jquery-ui-1.8.11.custom/css/smoothness/jquery-ui-1.8.11.custom.css";
    </style> 
{% endblock %}



{% block container %}
<!-- ### BEGIN CONTENT FOR HABITAT MAP, PUT IN TEMPLATE -->
<div id="container" class="habitatmap">
<form method="get" action=".">
    <div class="plain">
        <div id="left">
            <h3>Habitat Map</h3>
            <div class="gridselector">
                <div class="checkbox"><input type="checkbox" id="id_gridOn" value="Show map grid" /></div>
                <div class="legend"><img src="/site_media/img/habitatmap/habitat_grid.png" alt="" width="19" height="20" /></div>
                <div class="title">Show map grid</div>
                <div class="clearfix"></div>
            </div><!-- div class="gridselector" -->
                        
            <!-- ### BEGIN TRAPS AND SPOTTING -->
    

            <div class="ui-accordion ui-widget ui-helper-reset ui-accordion-icons">
                <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-state-focus ui-corner-top"><!-- 'ui-icon-triangle-1-s' IS THE CLASS FOR THE BOX TO OPEN. JQUERY UI FLIPS IT BACK TO 'ui-icon-triangle-1-e' IF YOU CLOSE THE BOX --><span class="ui-icon ui-icon-triangle-1-s"></span><a tabindex="-1" href="#">Trap and spotting locations</a></h3>
                <div class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active">
                    <div class="ui-accordion-content-scroll">
                    
                        <div class="facetItem">
                            <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="id_trapNegative" value="Unsuccessful traps" /></div>
                            <div class="title">Unsuccessful traps (N)</div>
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->
                        
                        <div class="facetItem">
                            <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="id_trapPositive" value="Trapped and released" /></div>
                            <div class="title">Trapped and released (N)</div>
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->
                        
                        <hr />
                        
                        <div class="facetItem">
                            <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="id_spotObserved" value="Observed" /></div>
                            <div class="title">Observed (N)</div>
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->
                        
                        <div class="facetItem">
                            <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="id_spotCamera" value="Camera" /></div>
                            <div class="title">Camera (N)</div>
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->
                        
                        <div class="facetItem">
                            <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="id_spotSigns" value="Tracks and signs" /></div>
                            <div class="title">Tracks and signs (N)</div>
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->

                    </div><!-- div class="ui-accordion-content-scroll -->                       
                </div><!-- div class="ui-accordion-content ui-helper-reset... -->
            </div><!-- div class="ui-accordion ui-widget... -->
            <!-- ### END TRAPS AND SPOTTING -->

            
            
            
            {% for field in form %}
                {{ field.errors }}
                {% if field.label == "Search" %}{%endif %}   
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            
            <!-- ### BEGIN MAMMAL SPECIES -->
                {%if field.label == "Species" %}
                    <div class="fieldWrapper ui-accordion ui-widget ui-helper-reset ui-accordion-icons">
                        {% if field.field.choices %}                            
                            <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-state-focus ui-corner-all"><!-- 'ui-icon-triangle-1-e' IS THE CLASS FOR THE BOX TO CLOSE. JQUERY UI FLIPS IT BACK TO 'ui-icon-triangle-1-s' IF YOU OPEN THE BOX --><span class="ui-icon ui-icon-triangle-1-e"></span><a tabindex="-1" href="#">{{field.label_tag}}</a></h3>
                            
                            
                            
                        
                        
                        
                            <div class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active">
                            {{ field }}
                            </div>
                        
                                           
                        {% else %}
                        {% endif %}
                    </div>
                    {%comment %}
                    <div class="ui-accordion ui-widget ui-helper-reset ui-accordion-icons">
                        <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-state-focus ui-corner-all"><!-- 'ui-icon-triangle-1-e' IS THE CLASS FOR THE BOX TO CLOSE. JQUERY UI FLIPS IT BACK TO 'ui-icon-triangle-1-s' IF YOU OPEN THE BOX --><span class="ui-icon ui-icon-triangle-1-e"></span><a tabindex="-1" href="#">Mammal species</a></h3>
                        <div style="display: none;" class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active">
                            <div class="ui-accordion-content-scroll">

                                {% for the_species in species %}
                                <div class="facetItem">
                                    <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="species_{{species.id}}" value="{{species.id}}" /></div>
                                    <div class="title">{{the_species.common_name}}</div>
                                    <div class="clearfix"></div>
                                </div><!-- div class="facetItem" -->
                                {%endfor %}
                            
                            </div><!-- div class="ui-accordion-content-scroll -->                       
                        </div><!-- div class="ui-accordion-content ui-helper-reset... -->
                    </div><!-- div class="ui-accordion ui-widget... -->
                    {% endcomment %}
            
            
            
             <!-- ### END MAMMAL SPECIES -->
                    
                    
                {%endif %}
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                {%if field.label == "Habitat" %}
                    <div class="fieldWrapper ui-accordion ui-widget ui-helper-reset ui-accordion-icons">
                        {% if field.field.choices %}
                            <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-corner-top ui-state-focus"><span class="ui-icon ui-icon-triangle-1-s"></span><a tabindex="-1" href="#">{{field.label_tag}} a ({{field.label}})</a></h3>
                            <div class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active">
                            {{ field }} habitat
                            </div>
                        {% else %}
                        {% endif %}
                    </div>
            
            
                    <!-- ### BEGIN HABITATS -->
                        <div class="ui-accordion ui-widget ui-helper-reset ui-accordion-icons">
                            <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-state-focus ui-corner-top"><!-- 'ui-icon-triangle-1-s' IS THE CLASS FOR THE BOX TO OPEN. JQUERY UI FLIPS IT BACK TO 'ui-icon-triangle-1-e' IF YOU CLOSE THE BOX --><span class="ui-icon ui-icon-triangle-1-s"></span><a tabindex="-1" href="#">Habitat</a></h3>
                            <div class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active">
                                <div class="ui-accordion-content-scroll">
                                    {% for habitat in habitats %}
                                    <div class="facetItem">
                                        <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="habitat_{{ habitat.id }}" value="{{ habitat.id }}" /></div>
                                        <div class="legend"><!-- COLOR: #00cc33 -->
                                        {%if habitat.image_path_for_legend != ''%}
                                        <img src="{{habitat.image_path_for_legend}}" alt="" width="20" height="20" />
                                        {%else %}
                                        <img src="/site_media/img/habitatmap/habitat_0c3.png" alt="" width="20" height="20" />
                                        {%endif %}
                                        </div>
                                    <div class="title">{{ habitat.label }}</div>
                                <div class="clearfix"></div>
                            </div><!-- div class="facetItem" -->
                                {%endfor%}
                        </div><!-- div class="ui-accordion-content-scroll -->                       
                    </div><!-- div class="ui-accordion-content ui-helper-reset... -->
                </div><!-- div class="ui-accordion ui-widget... -->
            <!-- ### END HABITATS -->

                    
                {%endif %}
                
                
                {% if  field.label != "Search" and field.label == "Species" and field.label == "Habitat"%}
                    <div class="fieldWrapper ui-accordion ui-widget ui-helper-reset ui-accordion-icons">
                        {% if field.field.choices %}
                            <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-corner-top ui-state-focus"><span class="ui-icon ui-icon-triangle-1-s"></span><a tabindex="-1" href="#">{{field.label_tag}} a ({{field.label}})</a></h3>
                            <div class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active">
                            {{ field }} other
                            </div>
                        {% else %}
                        {% endif %}
                    </div>
                {% endif %}
            {% endfor %}
            
            








                        



            
            <!-- ### BEGIN SCHOOLS -->
            <div class="ui-accordion ui-widget ui-helper-reset ui-accordion-icons">
                <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-state-focus ui-corner-all"><!-- 'ui-icon-triangle-1-e' IS THE CLASS FOR THE BOX TO CLOSE. JQUERY UI FLIPS IT BACK TO 'ui-icon-triangle-1-s' IF YOU OPEN THE BOX --><span class="ui-icon ui-icon-triangle-1-e"></span><a tabindex="-1" href="#">School</a></h3>
                <div style="display: none;" class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active">
                    <div class="ui-accordion-content-scroll">

                        <div class="facetItem">
                            <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="id_schoolA" value="School A" /></div>
                            <div class="title">School A (N)</div>
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->
                        
                        <div class="facetItem">
                            <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="id_schoolB" value="School B" /></div>
                            <div class="title">School B (N)</div>
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->
                        
                        <div class="facetItem">
                            <div class="checkbox"><input type="checkbox" class="facet traps_spotting_option" id="id_schoolC" value="School C" /></div>
                            <div class="title">School C (N)</div>
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->
    
                    </div><!-- div class="ui-accordion-content-scroll -->                       
                </div><!-- div class="ui-accordion-content ui-helper-reset... -->
            </div><!-- div class="ui-accordion ui-widget... -->
            <!-- ### END SCHOOLS -->
        

            <!-- ### BEGIN EXPEDITION DATE -->
            <div class="ui-accordion ui-widget ui-helper-reset ui-accordion-icons">
                <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-state-focus ui-corner-all"><!-- 'ui-icon-triangle-1-e' IS THE CLASS FOR THE BOX TO CLOSE. JQUERY UI FLIPS IT BACK TO 'ui-icon-triangle-1-s' IF YOU OPEN THE BOX --><span class="ui-icon ui-icon-triangle-1-e"></span><a tabindex="-1" href="#">Expedition date</a></h3>
                <div style="display: none;" class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active">
                    <div class="ui-accordion-content-scroll">

                        <div class="facetItem">
                            Expedition date stuff here
                            <div class="clearfix"></div>
                        </div><!-- div class="facetItem" -->
    
                    </div><!-- div class="ui-accordion-content-scroll -->                       
                </div><!-- div class="ui-accordion-content ui-helper-reset... -->
            </div><!-- div class="ui-accordion ui-widget... -->
            <!-- ### END EXPEDITION DATE -->


        </div><!-- div id="left" -->
        
        <div id="map_canvas">MAP GO HERE</div><!-- id="map_canvas" -->
        
        <div class="clearfix"></div><!-- class="clearfix" -->
    
    </div><!-- div class="plain" -->

</form>
</div><!-- div id="container" -->
 <!-- ### END CONTENT FOR HABITAT MAP -->


<!-- ### BELOW NEEDS TO BE IN THE TEMPLATE -->
<script type="text/javascript">
jQuery(document).ready(function() {
    jQuery(".ui-accordion-header").click(function() {
        jQuery(this).next().toggle();
        jQuery(this).toggleClass("ui-corner-all ui-corner-top");
        var child = jQuery(this).children("span.ui-icon");
        child.toggleClass("ui-icon-triangle-1-s ui-icon-triangle-1-e");
        return false;
    });
});
</script>
<!-- ### END WHAT NEEDS TO BE IN THE TEMPLATE -->


 <form method="get" action=".">
        <table>
            {{ form.as_table }}
            <tr>
                <td>&nbsp;</td>
                <td>
                    <input type="submit" value="Search">
                </td>
            </tr>
        </table>

        {% if query %}
            <h3>Results</h3>

            {% for result in page.object_list %}
                <p>
                    <a href="">{{ result.object }}</a>
                </p>
            {% empty %}
                <p>No results found.</p>
            {% endfor %}

            {% if page.has_previous or page.has_next %}
                <div>
                    {% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous{% if page.has_previous %}</a>{% endif %}
                    |
                    {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;{% if page.has_next %}</a>{% endif %}
                </div>
            {% endif %}
        {% else %}
            {# Show some example queries to run, maybe query syntax, something else? #}
        {% endif %}
</form>
{%endblock%}


