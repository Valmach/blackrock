{% extends "portal/base_portal.html" %}
{% load smartif %}
{% load portal %}

{% block title %}Grid Block{% endblock %}
{% block js %}
    <script type="text/javascript" src="/portal/media/js/grid_and_block.js"></script>
    <script type="text/javascript" src="/portal/media/js/block.js"></script>
    {{ block.super }}
{% endblock %}


{% block container %}


    <div id ="grid_json" style="display:none">{{grid_json}}</div>    
    <div id ="test_points" style="display:none">{{test_points}}</div>    
    
    <div id = "grid_form">
        <form action = '/portal/grid_block/' method="post">
            <table>
                <tr>
                    <td rowspan = "12">
                        <div id="map_canvas" style="width: 200px; height: 200px"></div>
                    </td>
                </tr>

                <tr>
                    <td> Center of grid lat:
                    </td>
                    <td> 
                        <input type="text" name = "grid_center_y" value ="{{grid_center_y}}"> </input>
                    </td>
                </tr>
                <tr>
                    <td> Center of grid long:
                    </td>
                    <td> 
                        <input type="text" name = "grid_center_x" value ="{{grid_center_x}}"> </input>
                    </td>
                </tr>
                <tr>
                    <td> Height of block in meters:
                    </td>
                    <td> 
                        <input type="text" name = "block_height_in_m" value ="{{block_height_in_m}}"> </input>
                    </td>
                </tr>
                <tr>
                    <td> Width of block in meters:
                    </td>
                    <td> 
                        <input type="text" name = "block_width_in_m" value ="{{block_width_in_m}}"> </input>
                    </td>
                </tr> 
                <tr>
                    <td> Declination:
                    </td>
                    <td> 
                        <input type="text" name = "magnetic_declination" value ="{{magnetic_declination}}"> </input>
                    </td>
                </tr>
                <tr>
                    <td > 
                        <input type="submit" value="Redraw"></input>
                    </td>
                    <td> 
                        <a href = "/portal/grid_demo/">Reset</a>
                    </td>
                </tr>
                <tr>
                    <td > 
                        Click a block to see info below:
                    </td>
                    <td> 
                        &nbsp;
                    </td>
                </tr>
                
                <tr>
                    <td  colspan = "2"> 
                            <p id = "block_info">
                                    
                            </p>
                            <table>
                            <tr>
                                <td id = "tl">&nbsp;</td>
                                <td>&nbsp;</td>
                                <td id = "tr">&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td id = "c">&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td id = "bl">&nbsp;</td>
                                <td>&nbsp;</td>
                                <td id = "br">&nbsp;</td>
                            </tr>
                            
                            </table>
                    
                    </td>
                </tr>
                
            </table>
        </form>
    </div>
    <p>
        Click "Satellite" to zoom in further.
    </p>
{% endblock %}

