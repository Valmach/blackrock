{% extends "portal/base_portal.html" %}
{% load smartif %}
{% load portal %}

{% block title %}Grid{% endblock %}
{% block js %}

    <script type="text/javascript" src="/portal/media/js/grid_and_block.js"></script>
    <script type="text/javascript" src="/portal/media/js/grid.js"></script>
    {{ block.super }}
{% endblock %}

{% block css %}
    <style media="screen" type="text/css">


        td.top_side
        {
            border-top: 2px solid green;
        }
        
        td.bottom_side
        {
            border-bottom: 2px solid green;
        }
        
        td.left_side
        {
            border-left: 2px solid green;
        }
        
        td.right_side
        {
            border-right: 2px solid green;
        }
        
    </style>

    {{ block.super }}
{% endblock %}


{% block container %}


    <div id ="grid_json" style="display:none">{{grid_json}}</div>    
    <div id ="test_points" style="display:none">{{test_points}}</div>    
    
    <div >
        <form action = '/portal/grid/' method="post" id = "grid_form">
            <table>
                <tr>
                    <td rowspan = "12">
                        <div id="map_canvas" style="width: 800px; height: 800px"></div>
                    </td>
                </tr>
                <tr>
                    <td> Center of grid lat:
                    </td>
                    <td> 
                        <input type="text" name = "grid_center_y" value ="{{grid_center_y}}"> </input>
                    </td>
                </tr>
                <tr>
                    <td> Center of grid long:
                    </td>
                    <td> 
                        <input type="text" name = "grid_center_x" value ="{{grid_center_x}}"> </input>
                    </td>
                </tr>
                <tr>
                    <td> Height of grid in blocks:
                    </td>
                    <td> 
                        <input type="text" name = "height_in_blocks" value ="{{height_in_blocks}}"> </input>
                    </td>
                </tr>
                <tr>
                    <td> Width of grid in blocks:
                    </td>
                    <td> 
                        <input type="text" name = "width_in_blocks" value ="{{width_in_blocks}}"></input>
                    </td>
                </tr>
                <tr>
                    <td> Height of block in meters:
                    </td>
                    <td> 
                        <input type="text" name = "block_height_in_m" value ="{{block_height_in_m}}"> </input>
                    </td>
                </tr>
                <tr>
                    <td> Width of block in meters:
                    </td>
                    <td> 
                        <input type="text" name = "block_width_in_m" value ="{{block_width_in_m}}"> </input>
                    </td>
                </tr> 
                <tr >
                    <td> Declination:
                    </td>
                    <td> 
                        <input type="text" name = "magnetic_declination" value ="{{magnetic_declination}}"> </input>
                    </td>
                </tr>
                
                
                <tr style = "display:none">
                    <td> Selected block center lat
                    </td>
                    <td> 
                        <input type="text" name = "selected_block_center_y" id="selected_block_center_y" ></input>
                    </td>
                </tr>
                <tr style = "display:none">
                    <td> Selected block center long:
                    </td>
                    <td> 
                        <input type="text" name = "selected_block_center_x" id="selected_block_center_x" ></input>
                    </td>
                </tr>
                <tr>
                    <td > 
                        <input type="submit" value="Redraw the grid"></input>
                    </td>
                    <td> 
                        <a href = "/portal/grid/">Reset</a>
                    </td>
                </tr>
                <tr>
                    <td > 
                        Click a block to see info below:
                    </td>
                    <td> 
                        &nbsp;
                    </td>
                </tr>
                
                <tr>
                    <td  colspan = "2"> 
                            <p id = "block_info">
                            </p>
                            <table>
                            <tr>
                                <td id = "tl"  class = "top_side left_side">&nbsp;</td>
                                <td class = "top_side">&nbsp;</td>
                                <td id = "tr"  class = "top_side right_side">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class = "left_side">&nbsp;</td>
                                <td id = "c">&nbsp;</td>
                                <td class = "right_side">&nbsp;</td>
                            </tr>
                            <tr>
                                <td id = "bl" class = "bottom_side left_side">&nbsp;</td>
                                <td class = "bottom_side">&nbsp;</td>
                                <td id = "br" class = "bottom_side right_side">&nbsp;</td>
                            </tr>
                            
                            </table>
                    
                    </td>
                </tr>
                
            </table>
        </form>
    </div>
    <p>
        Click "Satellite" to zoom in further.
    </p>
{% endblock %}

